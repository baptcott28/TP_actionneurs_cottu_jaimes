\hypertarget{motor__cmd_8c}{}\doxysection{Core/\+Src/motor\+\_\+cmd.c File Reference}
\label{motor__cmd_8c}\index{Core/Src/motor\_cmd.c@{Core/Src/motor\_cmd.c}}


Fichier contenant les fonctions de gestion du moteur.  


{\ttfamily \#include \char`\"{}motor\+\_\+cmd.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}main.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{motor__cmd_8c_ad7c86544bbb397ff14a6bb7f288f63a0}\label{motor__cmd_8c_ad7c86544bbb397ff14a6bb7f288f63a0}} 
\#define {\bfseries SPEED\+\_\+\+MAX}~1740
\begin{DoxyCompactList}\small\item\em Vitesse maximale que peut atteindre le moteur. Ici, 1750 est le raport cyclique égal à 1, on empêche cette valeur d\textquotesingle{}être atteinte et dépassée en limittant la consigne de vitesse à 1740. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{motor__cmd_8c_a36e3569df8b5bcf8d217ce613738e616}\label{motor__cmd_8c_a36e3569df8b5bcf8d217ce613738e616}} 
\#define {\bfseries MONTEE\+\_\+\+CINQ\+\_\+\+POURCENT}~87
\begin{DoxyCompactList}\small\item\em Montée en douceur tout les 5\%. (87 corespond à un raport cyclique de 5\%) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{motor__cmd_8c_af473ccc694c3f7b4e5ac3f1d771f8389}\label{motor__cmd_8c_af473ccc694c3f7b4e5ac3f1d771f8389}} 
void {\bfseries motor\+\_\+start} (void)
\begin{DoxyCompactList}\small\item\em Démarre le timer 2 et met la Pin ISO\+\_\+\+RESET à 1 pendant le temps requis (2us). Le reset de ISO\+\_\+\+RESET se fait dans l\textquotesingle{}interruption de tim2. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{motor__cmd_8c_aed532a94760860e2ea3ec907b4738c5c}\label{motor__cmd_8c_aed532a94760860e2ea3ec907b4738c5c}} 
void {\bfseries motor\+\_\+start\+\_\+\+PWM} (void)
\begin{DoxyCompactList}\small\item\em Fonction de racourci pour éviter de réécrire le redémarage des PWM à chaque fois. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{motor__cmd_8c_a3aeeac79071216948975bbc2eb044765}{motor\+\_\+set\+\_\+speed}} (int $\ast$\mbox{\hyperlink{main_8c_aa172f651f8d3a4de9c8864e23eb3324e}{speed}})
\begin{DoxyCompactList}\small\item\em Récupère et traite la commande de vitesse du moteur. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{motor__cmd_8c_a25fc663547539bc49fecc0011bd76ab5}\label{motor__cmd_8c_a25fc663547539bc49fecc0011bd76ab5}} 
TIM\+\_\+\+Handle\+Type\+Def {\bfseries htim1}
\item 
\mbox{\Hypertarget{motor__cmd_8c_a2c80fd5510e2990a59a5c90d745c716c}\label{motor__cmd_8c_a2c80fd5510e2990a59a5c90d745c716c}} 
TIM\+\_\+\+Handle\+Type\+Def {\bfseries htim2}
\item 
\mbox{\Hypertarget{motor__cmd_8c_a094e9803427776b04b0106d239e0c7f2}\label{motor__cmd_8c_a094e9803427776b04b0106d239e0c7f2}} 
uint8\+\_\+t {\bfseries speed} \mbox{[}SPEED\+\_\+\+MAX\+\_\+\+DIGIT\mbox{]}
\begin{DoxyCompactList}\small\item\em Buffer contenant les digits de la commande de vitesse moteur. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Fichier contenant les fonctions de gestion du moteur. 

\begin{DoxyDate}{Date}
25/10/2022$\ast$
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
Baptiste Cottu , Diego jaimes 
\end{DoxyAuthor}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{motor__cmd_8c_a3aeeac79071216948975bbc2eb044765}\label{motor__cmd_8c_a3aeeac79071216948975bbc2eb044765}} 
\index{motor\_cmd.c@{motor\_cmd.c}!motor\_set\_speed@{motor\_set\_speed}}
\index{motor\_set\_speed@{motor\_set\_speed}!motor\_cmd.c@{motor\_cmd.c}}
\doxysubsubsection{\texorpdfstring{motor\_set\_speed()}{motor\_set\_speed()}}
{\footnotesize\ttfamily void motor\+\_\+set\+\_\+speed (\begin{DoxyParamCaption}\item[{int $\ast$}]{speed }\end{DoxyParamCaption})}



Récupère et traite la commande de vitesse du moteur. 

\texorpdfstring{$<$}{<} Rapport cyclique initial à 5\%